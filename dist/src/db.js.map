{"version":3,"sources":["db.ts"],"names":[],"mappings":";AAAA,uBAAmB,UAAU,CAAC,CAAA;AAC9B,IAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACrC,IAAM,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAEpC,IAAI,SAAS,GAAG,gBAAM,CAAC,QAAQ,CAAC;AAChC,IAAI,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;AAC1B,IAAI,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;AACtC,IAAI,GAAG,GAAG,eAAa,IAAI,eAAU,UAAY,CAAC;AAElD,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;AAE/B;kBAAe;IACb,eAAe,EAAE;QACf,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACtB,IAAI,EAAE,GAAG,QAAQ,CAAC,UAAU,CAAC;QAC7B,EAAE,CAAC,EAAE,CAAC,WAAW,EAAE;YACjB,OAAO,CAAC,GAAG,CAAC,sCAAsC,GAAG,GAAG,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAC,CAAC;IACnE,CAAC;CACF,CAAC","file":"db.js","sourcesContent":["import config from './config';\nconst mongoose = require('mongoose');\nconst Promise = require('bluebird');\n\nvar db_config = config.database;\nvar host = db_config.host;\nvar collection = db_config.collection;\nvar uri = `mongodb://${host}:27017/${collection}`;\n\nPromise.promisifyAll(mongoose);\n\nexport default {\n  startConnection: function(){\n    mongoose.connect(uri);\n    var db = mongoose.connection;\n    db.on('connected', ()=>{\n      console.log('Mongoose default connection open to ' + uri);\n    });\n    db.on('error', console.error.bind(console, 'connection error:'));\n  }\n};"],"sourceRoot":"./src"}